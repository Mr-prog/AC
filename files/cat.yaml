; cat.asm
; Считать данные с порта ввода и вывести их на экран

start:
    READ_PORT PIN, R1          ; Чтение данных из порта ввода
    JZ R1, end                 ; Если данные закончились (нулевое значение), завершить
    WRITE_PORT R1, POUT        ; Вывод данных на экран
    JUMP start                 ; Продолжить чтение данных

end:
    NOP                        ; Завершение программы


section_program
READ_PORT

MOV R4 R3
WRITE_PORT
NOP
section_data